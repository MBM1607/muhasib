#:kivy 1.11.1

#:import SECONDRY_COLOR constants.SECONDRY_COLOR
#:import MAIN_COLOR constants.MAIN_COLOR

<BlackLabel@Label>:
	color: 0, 0, 0, 1

<Calendar>:
	name: "calendar"
	dates: dates
	weekdays: weekdays
	month_year_button: month_year_button

	BoxLayout:
		orientation: "vertical"
		spacing: dp(10)

		CustomActionBar:
			NavigationButton:
			Label:
				text: "Calendar"

		BoxLayout:
			orientation: "vertical"

			BoxLayout:
				orientation: "horizontal"
				size_hint_y: 0.1
				spacing: dp(10)
				padding: dp(5)
				IconButton:
					icon: "data/down.png"
					size: dp(32), dp(32)
					color: MAIN_COLOR
					on_press: root.previous_month()
				CustomButton:
					id: month_year_button
					size_hint_x: 0.7
					on_press: root.open_month_popup()
				IconButton:
					icon: "data/up.png"
					size: dp(32), dp(32)
					color: MAIN_COLOR
					on_press: root.next_month()
			CustomRecycleView:
				id: weekdays
				size_hint_y: 0.1
				viewclass: "BlackLabel"
				HorizontalListLayout:
			Dates:
				id: dates
				size_hint_y: 0.8

<Dates>:
	cols: 7
	spacing: dp(5)
	padding: dp(5)

<RecordsPopup>:
	record_lists: record_lists
	title: "Day Records"
	size_hint: 0.9, 0.9
	RecordLists:
		id: record_lists

<YearPopup>:
	year_grid: year_grid
	BoxLayout:
		orientation: "vertical"
		spacing: dp(10)
		CustomActionBar:
			spacing: dp(5)
			IconButton:
				icon: "data/back.png"
				on_press: root.dismiss()
				size: dp(32), dp(32)
			Label:
				text: root.year_range
				font_size: sp(20)
			IconButton:
				icon: "data/up.png"
				size: dp(32), dp(32)
				on_press: root.next_year_range()
			IconButton:
				icon: "data/down.png"
				size: dp(32), dp(32)
				on_press: root.previous_year_range()
		WidgetGrid:
			id: year_grid
			viewclass: "YearButton"
			cols: 3

<MonthPopup>:
	month_grid: month_grid
	BoxLayout:
		orientation: "vertical"
		spacing: dp(10)
		CustomActionBar:
			spacing: dp(5)
			IconButton:
				icon: "data/back.png"
				on_press: root.dismiss()
				size: dp(32), dp(32)
			CustomButton:
				text: root.year
				on_press: root.open_year_popup()
				font_size: sp(20)
			IconButton:
				icon: "data/up.png"
				size: dp(32), dp(32)
				on_press: app.calendar.next_year()
			IconButton:
				icon: "data/down.png"
				size: dp(32), dp(32)
				on_press: app.calendar.previous_year()
		WidgetGrid:
			id: month_grid
			viewclass: "MonthButton"
			cols: 3

<YearButton>:
	font_size: sp(15)

<MonthButton>:
	font_size: sp(15)
